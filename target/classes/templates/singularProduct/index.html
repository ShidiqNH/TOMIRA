	<!DOCTYPE html>
	<html lang="en">
	<head>
	    <meta charset="UTF-8">
	    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	    <title>TOMIRA</title>
	    <link rel="stylesheet" th:href="@{/css/styles.css}">
	    <style>
	        
	        .product-popup {
	            display: flex;
	            background-color: white;
	            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
	            border-radius: 8px;
	            overflow: hidden;
	        }
	        
	        .product-image {
	            flex: 1;
	            padding: 20px;
	            background-color: #f8f8f8;
	            display: flex;
	            flex-direction: column;
	            align-items: center;
	        }
	        
	        .product-image img {
	            max-width: 100%;
	            border-radius: 8px;
	        }
	        
	        .product-details {
	            flex: 2;
	            padding: 20px;
	            display: flex;
	            flex-direction: column;
	            justify-content: center;
	        }
	        
	        .product-details h1 {
	            color: #ff6f61;
	            font-size: 18px;
	            margin: 0;
	        }
	        
	        .product-details h2 {
	            font-size: 24px;
	            margin: 10px 0;
	        }
	        
	        .product-details p {
	            color: #666;
	            font-size: 16px;
	        }
	        
	        .price {
	            display: flex;
	            align-items: baseline;
	            margin: 10px 0;
	        }
	        
	        .new-price {
	            font-size: 24px;
	            color: #333;
	            font-weight: bold;
	        }
	        
	        .discount {
	            background-color: #ff6f61;
	            color: white;
	            padding: 2px 5px;
	            margin: 0 10px;
	            border-radius: 4px;
	            font-size: 14px;
	        }
	        
	        .old-price {
	            font-size: 16px;
	            color: #999;
	            text-decoration: line-through;
	        }
	        
	        .add-to-cart {
	            display: flex;
	            align-items: center;
	            margin-top: 20px;
	        }
	        
	        .add-to-cart input {
	            width: 50px;
	            padding: 5px;
	            margin-right: 10px;
	            border: 1px solid #ddd;
	            border-radius: 4px;
	            text-align: center;
	        }
	        
	        .add-to-cart button {
	            background-color: #ff6f61;
	            color: white;
	            border: none;
	            padding: 10px 20px;
	            border-radius: 4px;
	            cursor: pointer;
	            font-size: 16px;
	        }
	        
	        .add-to-cart button:hover {
	            background-color: #ff3d2e;
	        }
	        
	    </style>
	
	
	
	    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css">
	    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
	
	    <link rel="preconnect" href="https://fonts.googleapis.com">
	    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&family=Open+Sans:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
	
	  </head>
	  <body style="background-image: url('statImage/background-pattern.jpg');">
	    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
	      <defs>
	        <symbol xmlns="http://www.w3.org/2000/svg" id="link" viewBox="0 0 24 24">
	          <path fill="currentColor" d="M12 19a1 1 0 1 0-1-1a1 1 0 0 0 1 1Zm5 0a1 1 0 1 0-1-1a1 1 0 0 0 1 1Zm0-4a1 1 0 1 0-1-1a1 1 0 0 0 1 1Zm-5 0a1 1 0 1 0-1-1a1 1 0 0 0 1 1Zm7-12h-1V2a1 1 0 0 0-2 0v1H8V2a1 1 0 0 0-2 0v1H5a3 3 0 0 0-3 3v14a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3Zm1 17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-9h16Zm0-11H4V6a1 1 0 0 1 1-1h1v1a1 1 0 0 0 2 0V5h8v1a1 1 0 0 0 2 0V5h1a1 1 0 0 1 1 1ZM7 15a1 1 0 1 0-1-1a1 1 0 0 0 1 1Zm0 4a1 1 0 1 0-1-1a1 1 0 0 0 1 1Z"/>
	        </symbol>
	        <symbol xmlns="http://www.w3.org/2000/svg" id="arrow-right" viewBox="0 0 24 24">
	          <path fill="currentColor" d="M17.92 11.62a1 1 0 0 0-.21-.33l-5-5a1 1 0 0 0-1.42 1.42l3.3 3.29H7a1 1 0 0 0 0 2h7.59l-3.3 3.29a1 1 0 0 0 0 1.42a1 1 0 0 0 1.42 0l5-5a1 1 0 0 0 .21-.33a1 1 0 0 0 0-.76Z"/>
	        </symbol>
	        <symbol xmlns="http://www.w3.org/2000/svg" id="category" viewBox="0 0 24 24">
	          <path fill="currentColor" d="M19 5.5h-6.28l-.32-1a3 3 0 0 0-2.84-2H5a3 3 0 0 0-3 3v13a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-10a3 3 0 0 0-3-3Zm1 13a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-13a1 1 0 0 1 1-1h4.56a1 1 0 0 1 .95.68l.54 1.64a1 1 0 0 0 .95.68h7a1 1 0 0 1 1 1Z"/>
	        </symbol>
	        <symbol xmlns="http://www.w3.org/2000/svg" id="calendar" viewBox="0 0 24 24">
	          <path fill="currentColor" d="M19 4h-2V3a1 1 0 0 0-2 0v1H9V3a1 1 0 0 0-2 0v1H5a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3Zm1 15a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-7h16Zm0-9H4V7a1 1 0 0 1 1-1h2v1a1 1 0 0 0 2 0V6h6v1a1 1 0 0 0 2 0V6h2a1 1 0 0 1 1 1Z"/>
	        </symbol>
	        <symbol xmlns="http://www.w3.org/2000/svg" id="heart" viewBox="0 0 24 24">
	          <path fill="currentColor" d="M20.16 4.61A6.27 6.27 0 0 0 12 4a6.27 6.27 0 0 0-8.16 9.48l7.45 7.45a1 1 0 0 0 1.42 0l7.45-7.45a6.27 6.27 0 0 0 0-8.87Zm-1.41 7.46L12 18.81l-6.75-6.74a4.28 4.28 0 0 1 3-7.3a4.25 4.25 0 0 1 3 1.25a1 1 0 0 0 1.42 0a4.27 4.27 0 0 1 6 6.05Z"/>
	        </symbol>
	        <symbol xmlns="http://www.w3.org/2000/svg" id="plus" viewBox="0 0 24 24">
	          <path fill="currentColor" d="M19 11h-6V5a1 1 0 0 0-2 0v6H5a1 1 0 0 0 0 2h6v6a1 1 0 0 0 2 0v-6h6a1 1 0 0 0 0-2Z"/>
	        </symbol>
	        <symbol xmlns="http://www.w3.org/2000/svg" id="minus" viewBox="0 0 24 24">
	          <path fill="currentColor" d="M19 11H5a1 1 0 0 0 0 2h14a1 1 0 0 0 0-2Z"/>
	        </symbol>
	        <symbol xmlns="http://www.w3.org/2000/svg" id="cart" viewBox="0 0 24 24">
	          <path fill="currentColor" d="M8.5 19a1.5 1.5 0 1 0 1.5 1.5A1.5 1.5 0 0 0 8.5 19ZM19 16H7a1 1 0 0 1 0-2h8.491a3.013 3.013 0 0 0 2.885-2.176l1.585-5.55A1 1 0 0 0 19 5H6.74a3.007 3.007 0 0 0-2.82-2H3a1 1 0 0 0 0 2h.921a1.005 1.005 0 0 1 .962.725l.155.545v.005l1.641 5.742A3 3 0 0 0 7 18h12a1 1 0 0 0 0-2Zm-1.326-9l-1.22 4.274a1.005 1.005 0 0 1-.963.726H8.754l-.255-.892L7.326 7ZM16.5 19a1.5 1.5 0 1 0 1.5 1.5a1.5 1.5 0 0 0-1.5-1.5Z"/>
	        </symbol>
	        <symbol xmlns="http://www.w3.org/2000/svg" id="check" viewBox="0 0 24 24">
	          <path fill="currentColor" d="M18.71 7.21a1 1 0 0 0-1.42 0l-7.45 7.46l-3.13-3.14A1 1 0 1 0 5.29 13l3.84 3.84a1 1 0 0 0 1.42 0l8.16-8.16a1 1 0 0 0 0-1.47Z"/>
	        </symbol>
	        <symbol xmlns="http://www.w3.org/2000/svg" id="trash" viewBox="0 0 24 24">
	          <path fill="currentColor" d="M10 18a1 1 0 0 0 1-1v-6a1 1 0 0 0-2 0v6a1 1 0 0 0 1 1ZM20 6h-4V5a3 3 0 0 0-3-3h-2a3 3 0 0 0-3 3v1H4a1 1 0 0 0 0 2h1v11a3 3 0 0 0 3 3h8a3 3 0 0 0 3-3V8h1a1 1 0 0 0 0-2ZM10 5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v1h-4Zm7 14a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1V8h10Zm-3-1a1 1 0 0 0 1-1v-6a1 1 0 0 0-2 0v6a1 1 0 0 0 1 1Z"/>
	        </symbol>
	        <symbol xmlns="http://www.w3.org/2000/svg" id="star-outline" viewBox="0 0 15 15">
	          <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" d="M7.5 9.804L5.337 11l.413-2.533L4 6.674l2.418-.37L7.5 4l1.082 2.304l2.418.37l-1.75 1.793L9.663 11L7.5 9.804Z"/>
	        </symbol>
	        <symbol xmlns="http://www.w3.org/2000/svg" id="star-solid" viewBox="0 0 15 15">
	          <path fill="currentColor" d="M7.953 3.788a.5.5 0 0 0-.906 0L6.08 5.85l-2.154.33a.5.5 0 0 0-.283.843l1.574 1.613l-.373 2.284a.5.5 0 0 0 .736.518l1.92-1.063l1.921 1.063a.5.5 0 0 0 .736-.519l-.373-2.283l1.574-1.613a.5.5 0 0 0-.283-.844L8.921 5.85l-.968-2.062Z"/>
	        </symbol>
	        <symbol xmlns="http://www.w3.org/2000/svg" id="search" viewBox="0 0 24 24">
	          <path fill="currentColor" d="M21.71 20.29L18 16.61A9 9 0 1 0 16.61 18l3.68 3.68a1 1 0 0 0 1.42 0a1 1 0 0 0 0-1.39ZM11 18a7 7 0 1 1 7-7a7 7 0 0 1-7 7Z"/>
	        </symbol>
	        <symbol xmlns="http://www.w3.org/2000/svg" id="user" viewBox="0 0 24 24">
	          <path fill="currentColor" d="M15.71 12.71a6 6 0 1 0-7.42 0a10 10 0 0 0-6.22 8.18a1 1 0 0 0 2 .22a8 8 0 0 1 15.9 0a1 1 0 0 0 1 .89h.11a1 1 0 0 0 .88-1.1a10 10 0 0 0-6.25-8.19ZM12 12a4 4 0 1 1 4-4a4 4 0 0 1-4 4Z"/>
	        </symbol>
	        <symbol xmlns="http://www.w3.org/2000/svg" id="close" viewBox="0 0 15 15">
	          <path fill="currentColor" d="M7.953 3.788a.5.5 0 0 0-.906 0L6.08 5.85l-2.154.33a.5.5 0 0 0-.283.843l1.574 1.613l-.373 2.284a.5.5 0 0 0 .736.518l1.92-1.063l1.921 1.063a.5.5 0 0 0 .736-.519l-.373-2.283l1.574-1.613a.5.5 0 0 0-.283-.844L8.921 5.85l-.968-2.062Z"/>
	        </symbol>
	      </defs>
	    </svg>
	
	
	    <header>
	      <div class="container-fluid">
			  <div class="row py-3 border-bottom">
			    
			    <div class="col-sm-4 col-lg-3 text-center text-sm-start">
			      <div class="main-logo">
			        <a href="#" style="font-size: 30px; text-decoration: none;">TOMIRA</a>
			      </div>
			    </div>
			
			    <div class="col-sm-6 offset-sm-2 offset-md-0 col-lg-5 d-none d-lg-block">
			      <div class="search-bar row bg-light p-2 my-2 rounded-4">
			        <div class="col-md-4 d-none d-md-block">
			          <select class="form-select border-0 bg-transparent">
			            <option>All Categories</option>
			            <option>Fruit & Veges</option>
			            <option>Snacks</option>
			            <option>Beverage</option>
			            <option>Groceries</option>
			            <option>Medicine</option>
			          </select>
			        </div>
			        <div class="col-11 col-md-7">
			          <form id="search-form" class="text-center" action="index.html" method="post">
			            <input type="text" class="form-control border-0 bg-transparent" placeholder="Search" />
			          </form>
			        </div>
			        <div class="col-1">
			          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M21.71 20.29L18 16.61A9 9 0 1 0 16.61 18l3.68 3.68a1 1 0 0 0 1.42 0a1 1 0 0 0 0-1.39ZM11 18a7 7 0 1 1 7-7a7 7 0 0 1-7 7Z"/></svg>
			        </div>
			      </div>
			    </div>
			
			    <div class="col-sm-2 col-lg-4 d-flex justify-content-end align-items-center mt-4 mt-sm-0 justify-content-center justify-content-sm-end">
			      <div class="icon-group d-flex gap-3">
			        <a href="/login" th:if="${username == null}" class="rounded-circle bg-light p-2 mx-1">
	                	<svg width="24" height="24" viewBox="0 0 24 24"><use xlink:href="#user"></use></svg>
	            	</a>
	            	<span th:if="${username != null}">Welcome, <span th:text="${username}"></span>!</span>
	            	<a th:if="${username != null}" href="#" onclick="document.getElementById('logout-form').submit();" class="rounded-circle bg-light p-2 mx-1">
	               		<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#00000"><path d="M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h280v80H200v560h280v80H200Zm440-160-55-58 102-102H360v-80h327L585-622l55-58 200 200-200 200Z"/></svg>
	            	</a>
	            	<form th:if="${username != null}" id="logout-form" action="/auth/logout" method="post" style="display: none;">
	            	</form>
			        <a href="#" class="rounded-circle bg-light p-2 mx-1">
			          <svg width="24" height="24" viewBox="0 0 24 24"><use xlink:href="#heart"></use></svg>
			        </a>
			        <a href="#" class="rounded-circle bg-light p-2 mx-1">
			          <svg width="24" height="24" viewBox="0 0 24 24"><use xlink:href="#cart"></use></svg>
			        </a>
			      </div>
			    </div>
			
			  </div>
			</div>
	      <div class="container-fluid">
	        <div class="row py-3">
	          <div class="d-flex  justify-content-center justify-content-sm-between align-items-center">
	            <nav class="main-menu d-flex navbar navbar-expand-lg">
	              <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
	                <div class="offcanvas-body">
	                  <ul class="navbar-nav justify-content-end menu-list list-unstyled d-flex gap-md-3 mb-0">
	                    <li class="nav-item active">
	                      <a href="/" class="nav-link">Home</a>
	                    </li>
	                    </li>
	                    <li class="nav-item">
	                      <a href="/" class="nav-link">Products</a>
	                    </li>
	                    <li class="nav-item">
	                      <a href="/" class="nav-link">Contact Us</a>
	                    </li>
	                  </ul>
	                </div>
	              </div>
	            </nav>
	          </div>
	        </div>
	      </div>
	      
	      <body>
	        <div class="product-popup">
	            <div class="product-image">
	                <img th:src="@{'/images/' + ${product.imageFileName}}" alt=th:text="${product.name}">
	            </div>
	            <div class="product-details">
    <h1>Tomira</h1>
    <h2 th:text="${product.name}"></h2>
    <p th:text="${product.description}"></p>
    <p th:text="${product.quantity}"></p>
    <p class="new2-price" th:text="${product.price}" hidden></p>
    <div class="price">
        <span class="new-price" th:text="Rp. +${product.price}"></span>
        <div class="add-to-cart">
            <input id="quantity" type="number" value="1" min="1" onchange="calculateTotal()">
            <input type="hidden" id="productIdInput" name="productId" value="">
            <div id="totalPrice" class="total-price"></div>
            <a th:if="${username == null}" th:href="@{/login}">
                <button>Order</button>
            </a>
            <a th:if="${username != null}" th:href="@{'/Checkout/' + ${product.id}}">
                <button>Order</button>
            </a>
        </div>
    </div>
</div>

<script>
    function calculateTotal() {
        // Ambil nilai harga produk dan kuantitas dari input
        var price = parseFloat(document.querySelector('.new2-price').innerText.replace('Rp. ', ''));
        var quantity = parseInt(document.getElementById('quantity').value);

        // Validasi bahwa kuantitas tidak boleh 0
        if (quantity === 0) {
            alert("Kuantitas harus lebih besar dari 0.");
            document.getElementById('quantity').value = 1; // Set nilai kembali menjadi 1
            quantity = 1; // Set quantity menjadi 1
        }

        // Hitung harga total
        var totalPrice = price * quantity;

	            // Simpan total price di localStorage
	    localStorage.setItem('totalPrice', totalPrice.toFixed(2));
	    localStorage.setItem('quantity', quantity.toFixed(2));
	
	    // Tampilkan harga total secara real-time
	    document.getElementById('totalPrice').innerText = 'Total: Rp. ' + totalPrice.toFixed(2);
    }
</script>


</body>

	</html>